<sql id="ITEM_LIST_BY_UID_AND_STATUS">
    SELECT *
    FROM (
    SELECT rownum AS r, id, user_id AS userId, name, price, status, quantity
    FROM item
    WHERE user_id=? AND status=?
    ORDER BY id DESC
    )temp
    WHERE r >= ? AND r < ?
</sql>
<sql id="ITEM_SAVE_ITEM">
    INSERT INTO item(user_id, name, price, status, quantity)
    VALUES (?, ?, ?, ?, ?)
</sql>
<sql id="ITEM_REMOVE_BY_ID">
    DELETE FROM item
    WHERE id=?
</sql>
<sql id="ITEM_UPDATE_BY_ID">
    UPDATE item
    SET name=?, price=?, status=?, quantity=?
    WHERE id=?
</sql>
<sql id="ITEM_GET_BY_ID">
    SELECT id, user_id AS userId, name,
    price, status, quantity
    FROM item
    WHERE id=?
</sql>
<!-- transport-->
<sql id="TRANSPORT_ORDER_GET_BY_UID">
    SELECT *
    FROM (
    SELECT rownum AS r, id, user_id AS userId, order_detail_id
    AS detailId, location, status
    FROM transport_order
    WHERE user_id=?
    ORDER BY id DESC
    )temp
    WHERE r >= ? AND r < ?
</sql>
<!-- cart -->
<sql id="cart_addItem">
    INSERT INTO cart(user_id, item_id)
    VALUES (?, ?)
</sql>
<sql id="cart_removeAll">
    DELETE FROM cart WHERE user_id=?
</sql>
<sql id="cart_removeItem">
    DELETE FROM cart WHERE id=?
</sql>
<sql id="cart_getByUid">
    SELECT id, user_id AS userId, item_id AS itemId FROM cart WHERE user_id=?
</sql>
<sql id="cart_getPreOrder">
    SELECT cart.id, item_id AS itemId, item.user_id AS userId, price
    FROM cart
    LEFT JOIN item ON cart.item_id = item.id
    WHERE cart.user_id=?
</sql>
<sql id="cart_getSum">
    SELECT SUM(price) AS sum
    FROM cart
    LEFT JOIN item ON cart.item_id = item.id
    WHERE cart.user_id=?
</sql>
